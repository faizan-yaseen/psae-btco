(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{271:function(t,a,s){t.exports=s.p+"assets/img/part-3-img-1.653e96e2.png"},272:function(t,a,s){t.exports=s.p+"assets/img/part-3-img-2.03daac45.png"},308:function(t,a,s){"use strict";s.r(a);var e=s(13),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"sally-s-flower-shop-part-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sally-s-flower-shop-part-3"}},[t._v("#")]),t._v(" Sally's Flower Shop - Part 3")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/odoo-ps/psae-btco/commit/b896c5795efe964c7a068feb0f2fbdd6240fb5bd",target:"_blank",rel:"noopener noreferrer"}},[t._v("View the commit for this solution"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"template-inheritance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#template-inheritance"}},[t._v("#")]),t._v(" Template Inheritance")]),t._v(" "),a("p",[t._v("Deciding a good location to show flower details may be easy, but what is tricky is to find the template that we have\nto override. We can inspect the rendered HTML and use class names from some of the elements to do a global search on the\nsource code. In our case, we select the location to be under the product picture which appears to be a "),a("code",[t._v("section")]),t._v(" element\nwith the ID "),a("code",[t._v("product_detail")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:s(271),alt:"Inspecting element on product page"}})]),t._v(" "),a("p",[t._v("We find that the template we have to override is named "),a("code",[t._v("product")]),t._v(" in the module "),a("code",[t._v("website_sale")]),t._v(". The next step is to\ncreate a reliable XPath expression to target the correct location in the page. Moreover, upon source code inspection we\nrealize that this template has a variable called "),a("code",[t._v("product")]),t._v(" which contains a reference to the product template.\nTherefore, we will first fetch the associated product variant (i.e. "),a("code",[t._v("product.product")]),t._v(" record) followed by the associated\nflower record. Note that the user may view both flower and non-flower products on the website, which means we will show\nflower details conditionally using the t-directive "),a("code",[t._v("t-if")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8" ?>')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("odoo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("..."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("inherit_id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("website_sale.product"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("xpath")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("expr")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//section[@id="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("product_detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("]"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inside"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("t-if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("product.product_variant_id.is_flower and product.product_variant_id.flower_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("t")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("t-set")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("flower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("t-value")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("product.product_variant_id.flower_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("xpath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("odoo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("GitHubButton",{attrs:{link:"https://github.com/odoo-ps/psae-btco/blob/sally-flower-shop/flower_shop/views/templates.xml"}}),t._v(" "),a("p",[t._v("The final result should be something like this.\n"),a("img",{attrs:{src:s(272),alt:"Flower details on product page"}})]),t._v(" "),a("p",[t._v("This marks the completion of part 3 of the case study.")])],1)}),[],!1,null,null,null);a.default=n.exports}}]);